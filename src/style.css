:root {
  --c-1: #fff;
  --c-2: #0033ff;
  --c-3: #f2c005;
  --focus: #1a1a1a;
  --spacing: 32px;
  --a-transition: 0.25s;
  --bezier: cubic-bezier(0, -1, 0, 1);
  --border: solid 2px;

  font-family: "IBM Plex Light", Helvetica, sans-serif;
  font-size: 16px;

  color: var(--c-1);

  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "kern" on;
  -moz-font-feature-settings: "kern" on;
  -webkit-font-feature-settings: "kern" on;
  -ms-font-feature-settings: "kern" on;
  -o-font-feature-settings: "kern" on;

  --dot-size: 50px;
}

html,
body {
  background-color: var(--c-2);
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

/*        INIZIO        */
/*     MENU LATERALE    */

.toc {
  position: fixed;
  right: calc(var(--spacing) * 1);
  top: 50%;
  right: -50vw;
  /* background-color: var(--c-2); */
  transform: translate(-0%, -50%);
  z-index: 10;
  mix-blend-mode: difference;
  text-align: right;
  transition: all calc(var(--a-transition) / 1) ease-out;
  max-width: 250px;
}
.toc.summon {
  right: calc(var(--spacing) * 2);
  padding: calc(var(--spacing) * 0);
  /* padding-right: calc(var(--spacing)*2); */
}
.toc > ul > li {
  list-style-type: none;
  line-height: 1.75;
  margin-bottom: 10px;
  line-height: 1.2;
  transform: translate(0, 0);
  transition: transform var(--a-transition) var(--bezier);
}
.toc > ul > li.current {
  /* transform: translate(-16px, 0); */
  transition: transform var(--a-transition) var(--bezier);
}
.toc a {
  display: block;
}
span#current-line {
  width: 24px;
  height: 3px;
  margin-top: 10px;
  top: 50%;
  right: calc(var(--spacing) * 0);
  position: fixed;
  z-index: 999;
  background-color: var(--c-3);
  mix-blend-mode: normal;
  transform: rotateZ(90deg);
  transition: transform var(--a-transition) ease-out,
    top var(--a-transition) ease-out;
}
span#current-line.active {
  transform: rotateZ(0deg) translate(-100%, -0%);
  transition: transform var(--a-transition) ease-out,
    top var(--a-transition) ease-out;
}

/*     MENU LATERALE    */
/*         FINE         */

h1, h2, p, span {
  margin: 0;
}
h1 {
  font-family: "IBM Plex Serif";
}
h2 {
  font-size: 1.2rem;
}
p {
  font-family: "IBM Plex Light";
}
a {
  text-decoration: none;
  color: var(--c-1);
}

h1.title {
  font-size: 5rem;
  line-height: 1;
}

span.highlighted {
  background-color: var(--c-3);
  padding: 0px 3px;
}

svg {
  display: block;
  margin: 0 auto;
  width: 90%;
  max-height: 90vh;
}

.hero {
  height: 100vh;
  color: var(--c-1);
  background-color: var(--c-2);
}
.hero-caption {
  position: absolute;
  top: 50%;
  left: 35%;
  transform: translate(-50%, -50%);
}

.narrative-section {
  width: 100%;
  background-color: var(--c-1);
  padding: var(--spacing);
  box-sizing: border-box;
  overflow: visible;
}
.narrative-section.dark {
  background-color: var(--c-2);
}
.narrative-section.dark  {
  color: var(--c-1);
}

.section-heading {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr;
  box-sizing: border-box;
  color: var(--c-2);
  margin: calc(var(--spacing) * 2) auto calc(var(--spacing) * 1) auto;
  max-width: 960px;
}
.section-title,
.section-paragraph {
  box-sizing: border-box;
}
.section-heading h1 {
  padding: 10px;
  z-index: 10;
  /* border: solid 2px var(--c-2); */
}
.section-heading p {
  z-index: 5;
  padding: calc(var(--spacing) / 2);
  border: var(--border) var(--c-2);
  margin-left: -2px;
}
.section-heading h2 {
  z-index: 8;
  padding: calc(var(--spacing) / 3);
  background-color: var(--c-1);
  border: var(--border) var(--c-2);
}

.section-heading.sub {
  /* inherits from section-heading */
  grid-template-columns: 1fr;
  margin: calc(var(--spacing) * 1) 
          auto 
          calc(var(--spacing) * 1) 
          auto; 
}
.section-heading.sub .section-title {
  z-index: 10;
}
.section-heading.sub .section-title h2 {
  display: inline-block;
}
.section-heading.sub .section-paragraph {
  z-index: 5;
}
.section-heading.sub .section-paragraph p {
  margin-left: 24px;
  margin-top: -12px;
  max-width: 450px;
  background-color: var(--c-1);
}

.section-title.sub.highlighted h2 {
  color: var(--c-1);
  background-color: var(--c-2);
}

.narrative-section.focus {
  background-color: var(--focus);
}
.section-heading.focus {
  /* inherits from section-heading */
  color: var(--c-1);
  border-color: var(--focus) !important;
  grid-template-columns: 1fr;
  margin: calc(var(--spacing) * 1) 
          auto 
          calc(var(--spacing) * 1) 
          auto; 
}
.section-heading.focus .section-title {
  z-index: 10;
}
.section-heading.focus .section-title h2 {
  display: inline-block;
  background-color: var(--c-1);
  border: var(--border) var(--c-1);
  color: var(--focus);
}
.section-heading.focus .section-paragraph {
  z-index: 5;
}
.section-heading.focus .section-paragraph p {
  margin-left: 24px;
  margin-top: -12px;
  max-width: 450px;
  color: var(--c-1);
  border: var(--border) var(--c-1);
}
.section-title.focus.highlighted h2 {
  color: var(--c-1);
  background-color: var(--c-2);
}




.section-heading.dark .section-title {
  z-index: 10;
}
.section-heading.dark .section-title h2 {
  display: inline-block;
  /* background-color: var(--c-2); */
  border: var(--border) var(--c-1);
  /* color: var(--c-1); */
}
.section-heading.dark .section-paragraph {
  z-index: 5;
}
.section-heading.dark .section-paragraph p {
  margin-left: 24px;
  margin-top: -12px;
  max-width: 450px;
  color: var(--c-1);
  border: var(--border) var(--c-1);
  background-color: var(--c-2)
}
.section-title.dark.highlighted h2 {
  color: var(--c-2);
  background-color: var(--c-1);
}




.narrative-section.dark .section-title {
  color: var(--c-1);
}


.dark {
  border-color: var(--c-1) !important;
  color: var(--c-1);
}

.graph-container {
  width: 100%;
  box-sizing: border-box;
  display: inline-block;
  margin: calc(var(--spacing) * 2) 
          auto 
          calc(var(--spacing) * 1) 
          auto;
}
.graph {
  position: relative;
  margin: 0 auto;
}

.source-container {
  /* max-width: 860px; */
  width: 100%;
  display: block;
  text-align: left;
}
.source-text {
  color: var(--c-2);
  display: block;
  text-align: left;
  margin: var(--spacing) auto 0 auto;
}

.more-info {
  color: var(--c-1);
  cursor: help;
}

#section-1 {
  transition: background-color var(--a-transition) ease-out;
}

#main-question {
  color: var(--c-2);
  margin: 0 auto;
}

#waveform {
  height: 150px;
  width: 350px;
  margin: 0 auto var(--spacing) auto;
  display: block;
  box-sizing: border-box;
}

#section-policies {
  grid-template-columns: 1fr;
  top: 50%;
  transform: translate(0%, -50%);
  margin-top: 0;
}
#sns {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-gap: 20px;
  margin: calc(var(--spacing)*1) auto;
  height: 75%;
  max-width: 860px;
}



.undefined-graph {
  display: block;
  margin: 0 auto;
  max-width: 960px;
  background-image: url("graphs/graph_1-map_texture.png");
  background-repeat: repeat;
  background-size: 10px;
}


@media (max-width: 1024px) {
  .toc {
    right: -400px;
  }
  .toc.summon {
    right: calc(var(--spacing) * 2);
  }
  .section-heading {
    display: block;
    margin: var(--spacing);
    max-width: 500px;
    text-align: left;
  }
  .section-paragraph {
    margin: 0 calc(var(--spacing) * 2);
  }
  .section-graph {
    display: block;
  }
}
